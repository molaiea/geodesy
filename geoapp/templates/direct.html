{% extends 'plotbase.html' %}

{% load crispy_forms_tags %}
{% block head %}
{{block.super}}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
{% endblock %}
{% block content %}
<html>
<h1 class="headd"> Problème direct</h1>

<body>
    <form id="form" action="" method="post" class="custform">
        {% csrf_token %}
        <!--{{ form|crispy }}!-->
        <h4 class="cont">Choisissez une ellipsoide de référence</h4 class="cont">
        <div>
            {{form.ellipsoid}}
        </div>
        <h4 class="cont">Sinon précisez les valeurs des demi-axes</h4 class="cont">
            <h4>Demi grand axe:</h4> {{form.grand}}
            <h4>Demi petit axe:</h4> {{form.petit}}
        <h4 class="cont">Coordonnées du point de départ</h4 class="cont">
        <h4>Latitude:</h4> <div id="lat">{{form.latitude}}</div>
        <h4>Longitude:</h4> <div id="lon">{{form.longitude}}</div>
        <h4 class="cont">Azimut du point de départ <small>(en degrés décimals)</small></h4 class="cont">
        <div id="az">{{form.azimut}}</div>
        <h4 class="cont">La distance géodésique</h4 class="cont">
        <div id="dist">{{form.distance_geodesique}}</div><br>
        <br>
        <input type="Submit" name="submit"  value="Calculer" class="btn btn-light btn-lg"/>
    </form>
    <div id="mydiv">

        <h4 class="arrivee">Latitude du point d'arrivé:</h4> <h4 class="arrivee0">{{latitude}}</h4>

        <h4 class="arrivee">Longitude du point d'arrivé:</h4> <h4 class="arrivee0">{{longitude}}</h4>

        <h4 class="arrivee">Azimut inverse:</h4> <h4 class="arrivee0">{{longitude}}</h4>
    </div>
        
    
    <button id="gotoplot" class="btn btn-light btn-lg pad">Visualiser</button>
    <div id="plot" style="display:none;">
    <div class="container">
        <h1>Visualisation</h1>
        <p class="lead">Here you go...</p>
      </div>
      <!-- /.container -->
      
      <div class="container">
        <div class="row" style="border: 1px solid black">
          {# <div id="plot_container" class="col-md-8 col-md-offset-2">{{plot|safe}}</div>#}
          <div class="col-md-12">{{plot|safe}}</div>
        </div>
      </div>
    </div>
</body>

<script type="text/javascript">

    var button = document.getElementById('gotoplot');
    function clicck(e){
        document.getElementById("plot").style.display="block";

    }
    button.addEventListener("click", clicck);
    
</script>
</html>
{%endblock%}